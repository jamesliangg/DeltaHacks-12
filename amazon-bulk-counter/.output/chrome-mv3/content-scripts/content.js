var content=(function(){"use strict";var pe=Object.defineProperty;var fe=($,S,C)=>S in $?pe($,S,{enumerable:!0,configurable:!0,writable:!0,value:C}):$[S]=C;var v=($,S,C)=>fe($,typeof S!="symbol"?S+"":S,C);function $(r){return r}const S={matches:["https://www.amazon.ca/s*","https://www.amazon.com/s*","https://www.amazon.co.uk/s*","https://www.amazon.de/s*","https://www.amazon.fr/s*","https://www.amazon.es/s*","https://www.amazon.it/s*","https://www.amazon.nl/s*","https://www.amazon.se/s*","https://www.amazon.pl/s*","https://www.amazon.com.br/s*","https://www.amazon.in/s*","https://www.amazon.com.au/s*","https://www.amazon.com.mx/s*","https://www.amazon.com.tr/s*","https://www.amazon.ae/s*","https://www.amazon.sg/s*","https://www.amazon.jp/s*"],async main(){const{scanAmazonResults:r}=await Promise.resolve().then(()=>ue);r();let e;new MutationObserver(()=>{e&&clearTimeout(e),e=setTimeout(()=>{r()},200)}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]})}};function C(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var z={exports:{}},X=z.exports,Q;function ee(){return Q||(Q=1,(function(r,e){(function(t,s){s(r)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:X,function(t){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)t.exports=globalThis.browser;else{const s="The message port closed before a response was received.",o=g=>{const m={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(m).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class A extends WeakMap{constructor(i,l=void 0){super(l),this.createItem=i}get(i){return this.has(i)||this.set(i,this.createItem(i)),super.get(i)}}const w=n=>n&&typeof n=="object"&&typeof n.then=="function",x=(n,i)=>(...l)=>{g.runtime.lastError?n.reject(new Error(g.runtime.lastError.message)):i.singleCallbackArg||l.length<=1&&i.singleCallbackArg!==!1?n.resolve(l[0]):n.resolve(l)},b=n=>n==1?"argument":"arguments",T=(n,i)=>function(c,...d){if(d.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${b(i.minArgs)} for ${n}(), got ${d.length}`);if(d.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${b(i.maxArgs)} for ${n}(), got ${d.length}`);return new Promise((p,f)=>{if(i.fallbackToNoCallback)try{c[n](...d,x({resolve:p,reject:f},i))}catch(a){console.warn(`${n} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),c[n](...d),i.fallbackToNoCallback=!1,i.noCallback=!0,p()}else i.noCallback?(c[n](...d),p()):c[n](...d,x({resolve:p,reject:f},i))})},P=(n,i,l)=>new Proxy(i,{apply(c,d,p){return l.call(d,n,...p)}});let k=Function.call.bind(Object.prototype.hasOwnProperty);const E=(n,i={},l={})=>{let c=Object.create(null),d={has(f,a){return a in n||a in c},get(f,a,h){if(a in c)return c[a];if(!(a in n))return;let u=n[a];if(typeof u=="function")if(typeof i[a]=="function")u=P(n,n[a],i[a]);else if(k(l,a)){let M=T(a,l[a]);u=P(n,n[a],M)}else u=u.bind(n);else if(typeof u=="object"&&u!==null&&(k(i,a)||k(l,a)))u=E(u,i[a],l[a]);else if(k(l,"*"))u=E(u,i[a],l["*"]);else return Object.defineProperty(c,a,{configurable:!0,enumerable:!0,get(){return n[a]},set(M){n[a]=M}}),u;return c[a]=u,u},set(f,a,h,u){return a in c?c[a]=h:n[a]=h,!0},defineProperty(f,a,h){return Reflect.defineProperty(c,a,h)},deleteProperty(f,a){return Reflect.deleteProperty(c,a)}},p=Object.create(n);return new Proxy(p,d)},N=n=>({addListener(i,l,...c){i.addListener(n.get(l),...c)},hasListener(i,l){return i.hasListener(n.get(l))},removeListener(i,l){i.removeListener(n.get(l))}}),U=new A(n=>typeof n!="function"?n:function(l){const c=E(l,{},{getContent:{minArgs:0,maxArgs:0}});n(c)}),D=new A(n=>typeof n!="function"?n:function(l,c,d){let p=!1,f,a=new Promise(I=>{f=function(y){p=!0,I(y)}}),h;try{h=n(l,c,f)}catch(I){h=Promise.reject(I)}const u=h!==!0&&w(h);if(h!==!0&&!u&&!p)return!1;const M=I=>{I.then(y=>{d(y)},y=>{let G;y&&(y instanceof Error||typeof y.message=="string")?G=y.message:G="An unexpected error occurred",d({__mozWebExtensionPolyfillReject__:!0,message:G})}).catch(y=>{console.error("Failed to send onMessage rejected reply",y)})};return M(u?h:a),!0}),Ae=({reject:n,resolve:i},l)=>{g.runtime.lastError?g.runtime.lastError.message===s?i():n(new Error(g.runtime.lastError.message)):l&&l.__mozWebExtensionPolyfillReject__?n(new Error(l.message)):i(l)},J=(n,i,l,...c)=>{if(c.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${b(i.minArgs)} for ${n}(), got ${c.length}`);if(c.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${b(i.maxArgs)} for ${n}(), got ${c.length}`);return new Promise((d,p)=>{const f=Ae.bind(null,{resolve:d,reject:p});c.push(f),l.sendMessage(...c)})},de={devtools:{network:{onRequestFinished:N(U)}},runtime:{onMessage:N(D),onMessageExternal:N(D),sendMessage:J.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:J.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},H={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return m.privacy={network:{"*":H},services:{"*":H},websites:{"*":H}},E(g,de,m)};t.exports=o(chrome)}})})(z)),z.exports}var re=ee();const q=C(re);function R(r,...e){}const te={debug:(...r)=>R(console.debug,...r),log:(...r)=>R(console.log,...r),warn:(...r)=>R(console.warn,...r),error:(...r)=>R(console.error,...r)},K=class K extends Event{constructor(e,t){super(K.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=t}};v(K,"EVENT_NAME",B("wxt:locationchange"));let L=K;function B(r){var e;return`${(e=q==null?void 0:q.runtime)==null?void 0:e.id}:content:${r}`}function se(r){let e,t;return{run(){e==null&&(t=new URL(location.href),e=r.setInterval(()=>{let s=new URL(location.href);s.href!==t.href&&(window.dispatchEvent(new L(s,t)),t=s)},1e3))}}}const F=class F{constructor(e,t){v(this,"isTopFrame",window.self===window.top);v(this,"abortController");v(this,"locationWatcher",se(this));v(this,"receivedMessageIds",new Set);this.contentScriptName=e,this.options=t,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return q.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,t){const s=setInterval(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearInterval(s)),s}setTimeout(e,t){const s=setTimeout(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearTimeout(s)),s}requestAnimationFrame(e){const t=requestAnimationFrame((...s)=>{this.isValid&&e(...s)});return this.onInvalidated(()=>cancelAnimationFrame(t)),t}requestIdleCallback(e,t){const s=requestIdleCallback((...o)=>{this.signal.aborted||e(...o)},t);return this.onInvalidated(()=>cancelIdleCallback(s)),s}addEventListener(e,t,s,o){var g;t==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(g=e.addEventListener)==null||g.call(e,t.startsWith("wxt:")?B(t):t,s,{...o,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),te.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:F.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){var g,m,A;const t=((g=e.data)==null?void 0:g.type)===F.SCRIPT_STARTED_MESSAGE_TYPE,s=((m=e.data)==null?void 0:m.contentScriptName)===this.contentScriptName,o=!this.receivedMessageIds.has((A=e.data)==null?void 0:A.messageId);return t&&s&&o}listenForNewerScripts(e){let t=!0;const s=o=>{if(this.verifyScriptStartedEvent(o)){this.receivedMessageIds.add(o.data.messageId);const g=t;if(t=!1,g&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",s),this.onInvalidated(()=>removeEventListener("message",s))}};v(F,"SCRIPT_STARTED_MESSAGE_TYPE",B("wxt:content-script-started"));let O=F;const ne=Symbol("null");let oe=0;class ie extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[e]=arguments;if(e!=null){if(typeof e[Symbol.iterator]!="function")throw new TypeError(typeof e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[t,s]of e)this.set(t,s)}}_getPublicKeys(e,t=!1){if(!Array.isArray(e))throw new TypeError("The keys parameter must be an array");const s=this._getPrivateKey(e,t);let o;return s&&this._publicKeys.has(s)?o=this._publicKeys.get(s):t&&(o=[...e],this._publicKeys.set(s,o)),{privateKey:s,publicKey:o}}_getPrivateKey(e,t=!1){const s=[];for(let o of e){o===null&&(o=ne);const g=typeof o=="object"||typeof o=="function"?"_objectHashes":typeof o=="symbol"?"_symbolHashes":!1;if(!g)s.push(o);else if(this[g].has(o))s.push(this[g].get(o));else if(t){const m=`@@mkm-ref-${oe++}@@`;this[g].set(o,m),s.push(m)}else return!1}return JSON.stringify(s)}set(e,t){const{publicKey:s}=this._getPublicKeys(e,!0);return super.set(s,t)}get(e){const{publicKey:t}=this._getPublicKeys(e);return super.get(t)}has(e){const{publicKey:t}=this._getPublicKeys(e);return super.has(t)}delete(e){const{publicKey:t,privateKey:s}=this._getPublicKeys(e);return!!(t&&super.delete(t)&&this._publicKeys.delete(s))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new ie;function xe(){}function j(r,...e){}const ae={debug:(...r)=>j(console.debug,...r),log:(...r)=>j(console.log,...r),warn:(...r)=>j(console.warn,...r),error:(...r)=>j(console.error,...r)},le=(async()=>{try{const{main:r,...e}=S,t=new O("content",e);return await r(t)}catch(r){throw ae.error('The content script "content" crashed on startup!',r),r}})(),ce=[/(\d+)\s*(?:pcs?|pieces?|pack|count|qty|quantity|units?)/gi,/(?:pack|box|case|bundle)\s+(?:of\s+)?(\d+)/gi,/(\d+)-?(?:pack|piece|count)/gi,/(?:set|lot)\s+of\s+(\d+)/gi,/(\d+)\s*(?:oz|ml|g|kg|lb|lbs|mg)/gi,/x(\d+)/gi,/(\d+)\s+(?:items?|products?|units?)/gi];function W(r){if(!r)return null;for(const e of ce){const t=r.matchAll(e);for(const s of t){const o=parseInt(s[1],10);if(o>=2&&o<=1e5)return console.log(`   ‚úì Found quantity: ${o} (from pattern: ${e})`),o}}return console.log("   ‚úó No quantity pattern matched"),null}function V(r){if(!r)return null;const e=r.match(/[$‚Ç¨¬£¬•‚Çπ]?\s*(\d+[.,]\d{2})\s*(?:CAD|USD|EUR|GBP)?/);if(e){const t=e[1].replace(",","."),s=parseFloat(t);if(!isNaN(s)&&s>0){const o=Math.round(s*100);return console.log(`   ‚úì Found price: $${s.toFixed(2)} (${o} cents)`),o}}return console.log(`   ‚úó Could not extract price from: "${r}"`),null}function Y(r){const e=r.textContent||"";return e.includes("/count)")||e.includes("/count ")?!0:[/\$[\d.]+\s*\/\s*(?:count|pc|piece|unit|item|oz|ml|g|kg|lb)/i,/per\s+(?:count|pc|piece|unit|item|oz|ml|g|kg|lb)/i].some(s=>s.test(e))}async function ge(){console.log("üîç Amazon Bulk Counter: Starting scan...");const r=document.querySelectorAll('div[data-component-type="s-search-result"]');if(console.log(`üì¶ Found ${r.length} products on this page`),r.length===0){console.log('‚ö†Ô∏è No products found with selector [data-component-type="s-search-result"]');return}r.forEach((e,t)=>{me(e,t)})}function me(r,e=0){var t,s;try{const o=r.getAttribute("data-asin")||"";if(r.hasAttribute("data-bulk-counter-processed")){console.log(`‚è≠Ô∏è  Product ${e}: Already processed, skipping`);return}if(o&&_.has(o)){console.log(`‚è≠Ô∏è  Product ${e}: ASIN ${o} already processed earlier, skipping`),r.setAttribute("data-bulk-counter-processed","true");return}if(Y(r)){console.log(`‚è≠Ô∏è  Product ${e}: Already has per-unit pricing, skipping`),o&&_.add(o),r.setAttribute("data-bulk-counter-processed","true");return}if(r.querySelector(".bulk-counter-secondary")){console.log(`‚è≠Ô∏è  Product ${e}: Injection already present, skipping`),o&&_.add(o),r.setAttribute("data-bulk-counter-processed","true");return}const g=r.querySelector("h2 span");if(!g){console.log(`‚è≠Ô∏è  Product ${e}: No title element found`);return}const m=g.textContent||"";console.log(`üìù Product ${e}: "${m.substring(0,50)}..."`);const A=r.querySelector('.a-price[data-a-size="xl"]');if(!A){console.log(`‚è≠Ô∏è  Product ${e}: No price element found (tried .a-price[data-a-size="xl"])`);const T=r.querySelector(".a-price");if(!T){console.log(`‚è≠Ô∏è  Product ${e}: No fallback price element found`);return}const P=T.textContent||"";console.log(`üí∞ Product ${e}: Price text (fallback) = "${P}"`);const k=W(m),E=V(P);if(console.log(`üìä Product ${e}: Quantity=${k}, Price=${E}`),k&&E){const N=E/k,U=((t=P.match(/[\$‚Ç¨¬£¬•‚Çπ]/))==null?void 0:t[0])||"$";console.log(`‚úÖ Product ${e}: Calculated ${U}${(N/100).toFixed(2)}/count`),Z(r,N,k,U),r.setAttribute("data-bulk-counter-processed","true"),o&&_.add(o)}return}const w=A.textContent||"";console.log(`üí∞ Product ${e}: Price text = "${w}"`);const x=W(m),b=V(w);if(console.log(`üìä Product ${e}: Quantity=${x}, Price=${b}`),x&&b){const T=b/x,P=((s=w.match(/[\$‚Ç¨¬£¬•‚Çπ]/))==null?void 0:s[0])||"$";console.log(`‚úÖ Product ${e}: Calculated ${P}${(T/100).toFixed(2)}/count`),Z(r,T,x,P),r.setAttribute("data-bulk-counter-processed","true"),o&&_.add(o)}else console.log(`‚è≠Ô∏è  Product ${e}: Could not extract quantity or price`)}catch(o){console.error(`‚ùå Product ${e}: Error processing product:`,o)}}const _=new Set;function Z(r,e,t,s){var o,g;try{let m=r.querySelector('.a-price[data-a-size="xl"]');if(m||(m=r.querySelector(".a-price")),!m){console.log("‚ö†Ô∏è Could not find price element for injection");return}console.log("üéØ Found price element, injecting per-unit price");let A=m.closest(".a-spacing-none");if(A||(A=m.closest(".s-price-instructions-label-container")),A||(A=m.parentElement),!A){console.log("‚ö†Ô∏è Could not find target container");return}console.log("üéØ Found target container, creating secondary price element");const w=document.createElement("div");w.className="a-spacing-none bulk-counter-secondary";const x=document.createElement("span");x.className="a-size-base a-color-secondary",x.textContent=`(${s}${(e/100).toFixed(2)}/count)`,w.appendChild(x);const b=A.nextElementSibling;b?(o=A.parentNode)==null||o.insertBefore(w,b):(g=A.parentNode)==null||g.appendChild(w),console.log("‚úÖ Successfully injected per-unit price element")}catch(m){console.error("‚ùå Error injecting per-unit price:",m)}}const ue=Object.freeze(Object.defineProperty({__proto__:null,extractPrice:V,extractQuantity:W,hasExistingPerUnitPricing:Y,scanAmazonResults:ge},Symbol.toStringTag,{value:"Module"}));return le})();
content;
